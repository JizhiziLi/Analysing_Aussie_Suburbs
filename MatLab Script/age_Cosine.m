%%Get Features from Raw Data
%%Features: 2012 Populations
Data = [
    
7.87	7.99	9.82	6.52	7.13	6.00	6.91	5.63	5.82	5.06	4.83	6.58	6.99	6.42	6.61	4.07	6.32	2.38	6.64	5.65	4.37	6.44	2.55	5.37	3.52	6.01	7.63	6.44	3.21	3.75	3.29	6.21	8.62	3.76
5.58	6.42	8.11	5.33	6.92	3.51	5.41	6.36	6.44	9.49	5.82	5.28	6.36	5.98	5.48	3.25	5.63	1.75	7.29	3.83	2.92	6.96	4.30	3.43	2.37	5.25	5.84	4.80	2.08	2.15	3.70	6.86	8.53	2.13
4.29	5.81	7.31	4.87	6.12	2.52	5.17	5.87	5.59	1.90	4.78	4.92	4.87	4.77	4.83	3.28	4.24	1.58	6.34	2.82	2.17	7.17	3.15	2.64	2.07	5.04	7.52	3.69	1.39	3.63	3.71	6.66	8.62	1.39
3.99	6.83	7.27	5.54	5.86	3.89	5.65	6.08	4.97	9.49	5.64	5.06	5.26	4.57	5.40	5.84	3.79	17.26	5.74	2.54	2.44	7.53	2.68	3.08	3.25	5.84	5.84	4.57	2.14	2.34	5.05	8.14	6.95	1.74
8.53	9.14	7.68	6.54	6.53	11.77	7.35	10.66	7.57	6.96	6.62	6.62	5.81	7.71	7.49	16.48	6.46	27.17	5.96	4.49	10.12	7.34	2.42	7.51	9.85	8.83	3.14	7.92	9.61	7.22	8.05	5.76	5.25	9.54
37.01	33.21	35.57	28.99	28.09	43.78	32.27	27.86	28.25	26.58	28.47	30.17	31.83	35.20	33.50	43.41	39.30	26.46	29.29	43.32	49.65	25.03	12.68	42.96	49.02	32.76	27.16	45.38	54.39	47.24	27.77	24.91	37.03	49.01
22.48	20.53	19.59	23.64	18.82	18.40	19.59	24.37	25.00	22.78	25.35	23.41	24.87	23.47	21.87	16.24	21.90	12.38	24.53	24.77	17.31	26.42	28.59	22.32	18.02	20.73	33.45	18.39	20.18	25.00	25.72	28.23	21.25	16.61
3.02	2.63	1.99	5.00	3.70	2.52	3.58	3.95	5.01	8.86	5.23	4.17	3.67	2.94	4.37	2.22	3.15	3.51	3.24	4.88	2.73	4.12	14.36	4.04	3.90	3.80	3.59	2.32	2.64	3.59	6.92	5.92	2.26	3.35
2.39	2.34	1.25	3.96	4.31	2.21	3.56	2.73	3.65	0.00	3.97	3.86	2.58	2.25	3.46	1.95	2.85	1.82	2.64	3.33	2.68	2.59	11.54	2.72	2.86	3.28	3.48	1.89	1.62	1.57	5.17	3.41	0.47	3.21
1.90	2.16	0.76	3.25	4.83	1.68	3.85	2.24	3.18	5.70	3.25	3.68	2.38	2.23	2.72	1.41	2.53	1.48	2.88	2.09	2.17	2.41	7.92	2.55	2.04	3.29	1.12	1.42	1.18	1.32	3.61	1.51	0.13	2.90
1.62	1.71	0.45	3.14	4.27	1.81	3.60	1.91	2.14	1.90	2.78	3.76	2.42	1.89	2.20	1.03	1.89	1.48	2.62	1.26	1.62	1.86	6.11	1.68	1.78	2.93	0.67	1.48	0.92	1.25	3.17	1.71	0.04	2.60
1.32	1.24	0.20	3.22	3.42	1.93	3.08	2.33	2.38	1.27	3.26	2.49	2.94	2.57	2.08	0.82	1.94	2.72	2.83	1.03	1.82	2.15	3.69	1.71	1.31	2.25	0.56	1.71	0.63	0.93	3.85	0.68	0.85	3.77
]

DataT = Data'

%%
%%Count the Cosine distance
X=DataT

[mx,nx] = size(X);
Dis = ones(mx,nx);
C = cov(X);
for i=1:mx
for j=1:mx
D(i,j)=1-(X(i,:)*X(j,:)')/sqrt(X(i,:)*X(i,:)'*X(j,:)*X(j,:)');
end
end


%%
%%Use PCA to decrease dimention from 34 to 2
[COEFF,SCORE,latent,tsquare] = pca(D);

important = cumsum(latent)/sum(latent)

tranMix = COEFF(:,1:2)

result = D * tranMix


%%
%%Plot in 2D plane

for i = 1:34

plot(result(i,1),result(i,2),'*')
hold on
    
end

